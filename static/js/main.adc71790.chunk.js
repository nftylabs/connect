(this["webpackJsonpnfty-labs-login"]=this["webpackJsonpnfty-labs-login"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n.n(a),r=n(50),s=n.n(r),i=(n(33),n(2)),o=n.n(i),l=n(29),u=n(16),d=n.p+"static/media/logo.c0b0ed09.svg",b=n.p+"static/media/metamask-gray.3f479473.svg",m=n.p+"static/media/metamask-color.c1094eef.svg",f=n.p+"static/media/login-divider.50237155.svg",j=n.p+"static/media/wallet-connect-color.7aadbdc7.svg",g=n.p+"static/media/wallet-connect-gray.c2ea8007.svg",x=n(51),p=n.n(x),h=n(57),v=n(30),O=n.n(v),y=n(56),w=n.n(y),N=n(52),k=n.n(N),S=n(7),M=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(u.a)(r,2),i=s[0],x=s[1],v=Object(a.useState)(!1),y=Object(u.a)(v,2),N=y[0],M=y[1],C=Object(a.useState)(""),D=Object(u.a)(C,2),E=D[0],I=D[1],L=Object(a.useState)(""),T=Object(u.a)(L,2),Y=T[0],F=T[1],P=Object(a.useState)(!1),U=Object(u.a)(P,2),z=U[0],H=U[1],J=Object(a.useState)(null),V=Object(u.a)(J,2),A=V[0],B=V[1],W=Object(a.useState)(null),R=Object(u.a)(W,2),q=R[0],G=R[1],K=Object(a.useState)(""),Q=Object(u.a)(K,2),X=Q[0],Z=Q[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location.href.split("/")[5],"#"===window.location.href.split("/")[4]&&t){e.next=5;break}return H(!0),e.abrupt("return");case 5:return n="https://connect.api.nftylabs.argonx.com/connect/".concat(t),e.next=8,O.a.get(n).then((function(e){console.log("Response",e),I(e.data);var n=e.data;if(n&&403===n.code)H(!0);else{var a=JSON.stringify(n.ID).toUpperCase(),c=k.a.decToHex(a,{prefix:!1}).toUpperCase(),r="NFTY Labs signed message v0".concat(n.Version,"\n")+"You are authenticating to: ".concat(n.Service,"\n")+"Authorization ID: ".concat(c,"\n")+"Void after: ".concat(p.a.utc(n.Until).format("ddd MMM D HH:mm:ss YYYY")," UTC\n");console.log(r),F(r),B(c),Z(n.Service),G(t)}})).catch((function(e){return console.error("Error occurred",e)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var $=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E){e.next=3;break}return alert("Message is invalid. Please try again later"),e.abrupt("return");case 3:return e.prev=3,e.next=6,window.ethereum.enable();case 6:return e.next=8,new h.a.providers.Web3Provider(window.ethereum);case 8:return n=e.sent,e.next=11,n.listAccounts().then((function(e){return e[0]}));case 11:return t=e.sent,a=n.getSigner(),e.next=15,a.signMessage(Y);case 15:return c=e.sent,M(!0),"https://connect.api.nftylabs.argonx.com/verify",e.next=20,O.a.post("https://connect.api.nftylabs.argonx.com/verify",{id:parseInt(A,16),serviceID:q,signature:c,address:t}).then((function(e){console.log("Verified, data is",e.data),e.data.link?window.location.href=e.data.link:403===e.data.code?alert("Not authorized. Did you pick the wrong account?"):alert("Service currently unavailable. Try again later.")})).catch((function(e){console.error("Error",e),alert("Not authorized, did you pick the wrong account?")}));case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),console.log("Metamask connect error"),alert("Unable to connect to metamask wallet. Please try again later");case 26:M(!1);case 27:case"end":return e.stop()}}),e,null,[[3,22]])})));return function(){return e.apply(this,arguments)}}();return z?Object(S.jsx)("div",{className:"flex justify-center items-center my-24",children:Object(S.jsx)("p",{children:"Not found"})}):N?Object(S.jsx)("div",{className:"flex justify-center items-center my-24",children:Object(S.jsx)(w.a,{loading:N,size:150})}):Object(S.jsx)("div",{className:"flex justify-center items-center animate-fade-in-down",children:Object(S.jsxs)("div",{className:"flex shadow-2xl rounded-2xl flex-col md:h-1/2 md:w-4/12 md:my-12 md:mb-12  lg:h-1/2 lg:w-4/12 lg:my-12 lg:mb-12 justify-center items-center",children:[Object(S.jsx)("img",{alt:"",className:"my-2 h-20 mb-4",src:d}),Object(S.jsx)("div",{className:"my-4 w-1/2 flex justify-center items-center",children:Object(S.jsxs)("p",{className:"label-text text-black",children:["Login to ",X]})}),Object(S.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[Object(S.jsx)("div",{className:"h-20 mb-12",children:Object(S.jsx)("img",{alt:"",className:n?"animate-fade-in-logo cursor-pointer":"cursor-pointer",onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},src:n?m:b,onClick:function(){return $()}})}),Object(S.jsx)("div",{className:"my-8 border border-gray-500 cursor-pointer w-1/2 flex justify-center items-center",children:Object(S.jsx)("p",{className:"label-text text-gray-500 font-bold",onClick:function(){return $()},children:"Metamask"})}),Object(S.jsx)("img",{alt:"",className:"mt-4 mb-8",src:f}),Object(S.jsx)("div",{className:"h-20 lg:mb-4",children:Object(S.jsx)("img",{alt:"",className:"cursor-pointer",onMouseEnter:function(){return x(!0)},onMouseLeave:function(){return x(!1)},src:i?j:g})}),Object(S.jsx)("div",{className:"my-9 border border-gray-500 cursor-pointer w-1/2 flex justify-center items-center",children:Object(S.jsx)("p",{className:"label-text text-gray-500 font-bold",children:"WalletConnect"})})]})]})})};var C=function(){return Object(S.jsx)(M,{})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(C,{})}),document.getElementById("root")),D(console.log)},33:function(e,t,n){},83:function(e,t){}},[[105,1,2]]]);
//# sourceMappingURL=main.adc71790.chunk.js.map