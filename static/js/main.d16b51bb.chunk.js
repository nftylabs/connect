(this["webpackJsonpnfty-labs-login"]=this["webpackJsonpnfty-labs-login"]||[]).push([[0],{178:function(e,t,n){},338:function(e,t){},389:function(e,t){},391:function(e,t){},422:function(e,t){},533:function(e,t){},546:function(e,t){},549:function(e,t){},621:function(e,t){},642:function(e,t){},648:function(e,t){},709:function(e,t){},715:function(e,t){},773:function(e,t,n){"use strict";n.r(t);var c=n(16),a=n.n(c),r=n(300),o=n.n(r),s=(n(178),n(3)),i=n.n(s),l=n(71),u=n(49),d=n.p+"static/media/logo.c0b0ed09.svg",f=n.p+"static/media/metamask-gray.3f479473.svg",b=n.p+"static/media/metamask-color.c1094eef.svg",m=n.p+"static/media/login-divider.50237155.svg",p=n.p+"static/media/wallet-connect-color.7aadbdc7.svg",j=n.p+"static/media/wallet-connect-gray.c2ea8007.svg",g=n(301),h=n.n(g),x=n(173),v=n(174),O=n.n(v),w=n(306),y=n.n(w),k=n(302),N=n.n(k),S=n(171),M=n.n(S),C=(n(482),n(634),n(172)),I=n.n(C),T=n(47),E=n.p+"static/media/bummer-img.6fefb042.svg",D=n(17),L=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(u.a)(r,2),s=o[0],g=o[1],v=Object(c.useState)(!1),w=Object(u.a)(v,2),k=w[0],S=w[1],C=Object(c.useState)(""),L=Object(u.a)(C,2),P=(L[0],L[1]),U=Object(c.useState)(""),Y=Object(u.a)(U,2),F=Y[0],z=Y[1],H=Object(c.useState)(!1),J=Object(u.a)(H,2),V=J[0],W=J[1],A=Object(c.useState)(null),B=Object(u.a)(A,2),_=B[0],q=B[1],R=Object(c.useState)(null),G=Object(u.a)(R,2),K=G[0],Q=G[1],X=Object(c.useState)(""),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1];Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location.href.split("/")[5],"#"===window.location.href.split("/")[4]&&t){e.next=5;break}return W(!0),e.abrupt("return");case 5:return n="https://connect.api.nftylabs.argonx.com/connect/".concat(t),e.next=8,O.a.get(n).then((function(e){console.log("Response",e),P(e.data.payload);var n=e.data.payload;if(!n||403!==n.code&&404!=n.code){var c=JSON.stringify(n.ID).toUpperCase(),a=N.a.decToHex(c,{prefix:!1}).toUpperCase(),r="NFTY Labs signed message v0".concat(n.Version,"\n")+"You are authenticating to: ".concat(n.Service,"\n")+"Authorization ID: ".concat(a,"\n")+"Void after: ".concat(h.a.utc(n.Until).format("ddd MMM D HH:mm:ss YYYY")," UTC\n");console.log(r),z(r),q(a),ee(n.Service),Q(t)}else W(!0)})).catch((function(e){return console.error("Error occurred",e)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var te=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://connect.api.nftylabs.argonx.com/verify",e.next=3,O.a.post("https://connect.api.nftylabs.argonx.com/verify",{id:parseInt(_,16),serviceID:K,signature:t,address:n}).then((function(e){console.log("Verified, data is",e.data),e.data.link?window.location.href=e.data.link:403===e.data.code?alert("Not authorized. Did you pick the wrong account?"):alert("Service currently unavailable. Try again later.")})).catch((function(e){console.error("Error",e),alert("Not authorized, did you pick the wrong account?")}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.enable();case 3:return e.next=5,new x.a.providers.Web3Provider(window.ethereum);case 5:return n=e.sent,e.next=8,n.listAccounts().then((function(e){return e[0]}));case 8:return t=e.sent,c=n.getSigner(),e.next=12,c.signMessage(F);case 12:return a=e.sent,S(!0),e.next=16,te(a,t);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log("Metamask connect error"),alert("Unable to connect to metamask wallet. Please try again later");case 22:S(!1);case 23:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,c=[Object(T.convertUtf8ToHex)(F),t],e.next=5,n.signPersonalMessage(c).then((function(e){return e})).catch((function(e){console.error(e),alert("Error occurred when signing message")}));case 5:return a=e.sent,console.log("signedMessage",a),e.next=9,te(a,t);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),alert("Issue when connecting to WalletConnect");case 15:S(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new M.a({bridge:"https://bridge.walletconnect.org",qrcodeModal:I.a})).connected?(console.log(t),n=t._accounts[0],ce(n,t)):t.createSession(),t.on("connect",function(){var e=Object(l.a)(i.a.mark((function e(c,a){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=2;break}throw c;case 2:r=a.params[0],o=r.accounts,r.chainId,n=o[0],ce(n,t),console.log("connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),t.on("session_update",(function(e,c){if(e)throw e;var a=c.params[0],r=a.accounts;a.chainId;n=r[0],ce(n,t),console.log("session updated")})),t.on("disconnect",(function(e,t){if(console.log("session disconnected"),e)throw e;localStorage.removeItem("walletconnect"),window.location.reload()}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return V?Object(D.jsx)("div",{class:"flex h-screen",children:Object(D.jsxs)("div",{class:"m-auto flex flex-col",children:[Object(D.jsx)("p",{className:"label-text font-3xl font-bold text-black mb-4",children:"Oh No! It seems that the link you entered is invalid. Could you check again?"}),Object(D.jsx)("img",{src:E})]})}):k?Object(D.jsxs)("div",{class:"flex h-screen flex-col",children:[Object(D.jsx)("div",{class:"m-auto",children:Object(D.jsx)(y.a,{loading:k,size:90})}),Object(D.jsx)("p",{className:"label-text font-sm text-black mt-8",children:"Taking too long? .... Please refresh the screen"})]}):Object(D.jsx)("div",{className:"flex justify-center items-center animate-fade-in-down",children:Object(D.jsxs)("div",{className:"flex shadow-2xl rounded-2xl flex-col md:h-1/2 md:w-3/12 md:my-12 md:mb-12  lg:h-1/2 lg:w-3/12 lg:my-24 lg:mb-12 justify-center items-center",children:[Object(D.jsx)("img",{alt:"",className:"my-2 h-20 mb-4",src:d}),Object(D.jsx)("div",{className:"my-4 md:w-full w-1/2 flex justify-center items-center",children:Object(D.jsxs)("p",{className:"label-text text-black",children:["Login to ",$]})}),Object(D.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[Object(D.jsx)("div",{className:"h-14 mb-12",children:Object(D.jsx)("img",{alt:"",className:n?"animate-fade-in-logo cursor-pointer":"cursor-pointer",onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},src:n?b:f,onClick:function(){return ne()}})}),Object(D.jsx)("div",{className:"my-8 border border-gray-500 cursor-pointer w-1/2 flex justify-center items-center",children:Object(D.jsx)("p",{className:"label-text text-gray-500 font-bold",onClick:function(){return ne()},children:"Metamask"})}),Object(D.jsx)("img",{alt:"",className:"mt-4 mb-8",src:m}),Object(D.jsx)("div",{className:"h-14 lg:mb-4 md:mb-4",children:Object(D.jsx)("img",{alt:"",className:s?"animate-fade-in-logo cursor-pointer":"cursor-pointer",onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},src:s?p:j,onClick:function(){return ae()}})}),Object(D.jsx)("div",{className:"my-9 border border-gray-500 cursor-pointer w-1/2 flex justify-center items-center",children:Object(D.jsx)("p",{onClick:function(){return ae()},className:"label-text text-gray-500 font-bold",children:"WalletConnect"})})]})]})})};var P=function(){return Object(D.jsx)(L,{})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,777)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(P,{})}),document.getElementById("root")),U(console.log)}},[[773,1,2]]]);
//# sourceMappingURL=main.d16b51bb.chunk.js.map